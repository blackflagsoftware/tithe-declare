import{d as f,P as c,r as l,o as y,x as k,z as t,K as n,L as i,M as v,y as x}from"./_J1N5LE9.js";const h={id:"login-form",class:"group",novalidate:""},w={class:"mb-5"},E={class:"mb-5"},C={class:"flex flex-col items-center mt-2"},B={id:"forgot-modal","aria-hidden":"true",class:"hidden fixed inset-0 transition-opacity bg-gray-200 bg-opacity-75"},L={tabindex:"-1",class:"fixed z-50 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-auto bg-white dark:bg-gray-900 rounded-md px-4 py-2 space-y-5 drop-shadow-lg"},P={class:"relative p-4 w-full max-w-2xl max-h-full"},M={class:"relative bg-white dark:bg-gray-900 rounded-lg shadow dark:bg-black"},z={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:bg-gray-900 dark:border-gray-600"},I={class:"p-4 md:p-5 space-y-8 dark:bg-gray-900"},q={class:"flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600 dark:bg-gray-900"},j=f({__name:"login",setup(U){const a=c(),d=l(""),s=l("");l(!0);function g(o){if(o.preventDefault(),d&&s){document.getElementById("loginError").style.display="none";const e={email_address:d.value,password:s.value};return fetch("/login/sign-in",{method:"POST",body:e,headers:a.getUnAuthHeader()}).then(r=>{sessionStorage.setItem("token",r.data.token),a.login("/")}),!1}return!1}function b(){var o=document.getElementById("forgot-modal");o.classList.remove("hidden")}function m(){fetch("/login/forgot-password/"+d.value,{method:"GET",headers:a.getUnAuthHeader()}).then(()=>{var o=document.getElementById("forgot-modal");o.classList.add("hidden")})}function u(){var o=document.getElementById("forgot-modal");o.classList.add("hidden")}function p(){var o=document.getElementById("login-form");o.addEventListener("submit",g)}return y(()=>p()),(o,e)=>(x(),k(v,null,[e[17]||(e[17]=t("div",{class:"title-div"},[t("p",null,"Change to img tag"),t("p",{class:"h-2"},"Login")],-1)),t("div",null,[t("form",h,[t("div",w,[e[7]||(e[7]=t("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Email",-1)),n(t("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=r=>d.value=r),class:"bg-gray-200 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 invalid:[&:not(:placeholder-shown):not(:focus)]:border-red-500 peer",placeholder:" ",required:"",pattern:"[^@\\s]+@[^@\\s]+\\.[^@\\s]+",autocomplete:"email"},null,512),[[i,d.value]]),e[8]||(e[8]=t("p",{class:"mt-2 hidden text-sm text-red-600 dark:text-red-500 peer-[&:not(:placeholder-shown):not(:focus):invalid]:block"},"Email is required!",-1))]),t("div",E,[e[9]||(e[9]=t("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Password",-1)),n(t("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=r=>s.value=r),class:"bg-gray-200 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 invalid:[&:not(:placeholder-shown):not(:focus)]:border-red-500 peer",placeholder:" ",pattern:".{8,}",required:"",autocomplete:"password"},null,512),[[i,s.value]]),e[10]||(e[10]=t("p",{class:"mt-2 hidden text-sm text-red-600 dark:text-red-500 peer-[&:not(:placeholder-shown):not(:focus):invalid]:block"},"Password is required, add at least 8 charaters in length!",-1))]),e[11]||(e[11]=t("div",{id:"submit",class:"button-div"},[t("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 group-invalid:pointer-events-none group-invalid:opacity-30"},"Login")],-1)),e[12]||(e[12]=t("div",{class:"error-div"},[t("p",{id:"loginError",class:"text-red-500",style:{display:"none"}},"Email/Password combination invalid")],-1)),t("div",C,[t("button",{type:"button",onClick:e[2]||(e[2]=r=>b()),class:"font-medium text-blue-600 dark:text-blue-500"},"Forgot Password?")])])]),t("div",B,[t("div",L,[t("div",P,[t("div",M,[t("div",z,[e[14]||(e[14]=t("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Forgot Password? ",-1)),t("button",{type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:e[3]||(e[3]=r=>u())},[...e[13]||(e[13]=[t("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),t("span",{class:"sr-only"},"Close modal",-1)])])]),t("div",I,[e[15]||(e[15]=t("p",{class:"text-sm"},"Enter your email, if the email address is in our system, an email with instructions will be sent.",-1)),n(t("input",{type:"email",id:"email-modal","onUpdate:modelValue":e[4]||(e[4]=r=>d.value=r),class:"bg-gray-200 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 invalid:[&:not(:placeholder-shown):not(:focus)]:border-red-500 peer",placeholder:"email",required:"",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$"},null,512),[[i,d.value]]),e[16]||(e[16]=t("p",{class:"text-xs"},"(Please check your spam folder, just in case you don't recieve this email within a few minutes)",-1))]),t("div",q,[t("button",{onClick:e[5]||(e[5]=r=>m()),type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"Submit"),t("button",{onClick:e[6]||(e[6]=r=>u()),type:"button",class:"py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"},"Close")])])])])])],64))}});export{j as default};
