import{d as x,r as s,U as y,P as w,o as v,x as h,z as t,K as d,L as n,M as P,y as N}from"./_J1N5LE9.js";import{B as C}from"./e8YS3tKj.js";import{a as V}from"./D3r0DRHi.js";const _={class:"mb-8"},T={class:"mb-4"},A={class:"mb-4"},U={class:"mb-4"},B={class:"flex items-center"},M={class:"mb-8"},L={class:"mb-4"},O={class:"mb-4"},E={class:"flex items-center"},I=x({__name:"profile",props:{modelValue:{default:C(new Array)},modelModifiers:{}},emits:["update:modelValue"],setup(m){s(new Array);const o=y(m,"modelValue"),l=s("");s("");const u=s(""),i=s(""),{getAuthHeader:b}=w(),g=V();function f(){const a=sessionStorage.getItem("token");if(a?.length===0)return;const e=a?.split(".");if(e?.length<2)return;const r=JSON.parse(atob(e[1]));l.value=r.jti,l.value.length!==0&&g("/login/"+l.value,{method:"GET",headers:b()}).then(p=>{o.value=p.data.data})}function k(){const a={id:l.value,first_name:o.value.first_name,last_name:o.value.last_name};g("/login",{method:"PATCH",body:a,headers:b()})}function c(){const a={id:l.value,password:u.value,confirm_password:i.value};g("/login/pwd",{method:"PATCH",body:a,headers:b()}).then(()=>{u.value="",i.value=""})}return v(()=>{f()}),(a,e)=>(N(),h(P,null,[e[12]||(e[12]=t("p",{class:"text-4xl mb-8"},"Profile",-1)),t("div",null,[t("div",_,[t("div",T,[e[7]||(e[7]=t("label",{for:"firstName",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"First Name",-1)),d(t("input",{id:"firstName",type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>o.value.first_name=r),class:"bg-gray-200 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 w-96"},null,512),[[n,o.value.first_name]])]),t("div",A,[e[8]||(e[8]=t("label",{for:"lastName",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Last Name",-1)),d(t("input",{id:"lastName",type:"text","onUpdate:modelValue":e[1]||(e[1]=r=>o.value.last_name=r),class:"bg-gray-200 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 w-96"},null,512),[[n,o.value.last_name]])]),t("div",U,[e[9]||(e[9]=t("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Email",-1)),d(t("input",{id:"email",type:"text","onUpdate:modelValue":e[2]||(e[2]=r=>o.value.email_address=r),class:"bg-gray-200 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 w-96"},null,512),[[n,o.value.email_address]])]),t("div",B,[t("button",{onClick:e[3]||(e[3]=r=>k()),type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"Save")])]),t("div",M,[t("div",L,[e[10]||(e[10]=t("label",{for:"newPwdOne",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"New Password",-1)),d(t("input",{id:"newPwdOne",type:"password","onUpdate:modelValue":e[4]||(e[4]=r=>u.value=r),class:"bg-gray-200 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 w-96"},null,512),[[n,u.value]])]),t("div",O,[e[11]||(e[11]=t("label",{for:"newPwdTwo",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"New Password Confirm",-1)),d(t("input",{id:"newPwdTwo",type:"password","onUpdate:modelValue":e[5]||(e[5]=r=>i.value=r),class:"bg-gray-200 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 w-96"},null,512),[[n,i.value]])]),t("div",E,[t("button",{onClick:e[6]||(e[6]=r=>c()),type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"Change")])])])],64))}});export{I as default};
